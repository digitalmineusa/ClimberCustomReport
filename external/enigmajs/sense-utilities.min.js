!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.senseUtilities=n()}(this,function(){"use strict";var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function t(t,u,a,i){return u=u||"&",a=a||"=",null===t&&(t=void 0),"object"==typeof t?r(o(t),function(o){var i=encodeURIComponent(n(o))+a;return e(t[o])?r(t[o],function(e){return i+encodeURIComponent(n(e))}).join(u):i+encodeURIComponent(n(t[o]))}).join(u):i?encodeURIComponent(n(i))+a+encodeURIComponent(n(t)):""}function r(e,n){if(e.map)return e.map(n);for(var t=[],r=0;r<e.length;r++)t.push(n(e[r],r));return t}var o=Object.keys||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n};function u(n,t,r,o){t=t||"&",r=r||"=";var u={};if("string"!=typeof n||0===n.length)return u;var a=/\+/g;n=n.split(t);var i=1e3;o&&"number"==typeof o.maxKeys&&(i=o.maxKeys);var c,s,f=n.length;i>0&&f>i&&(f=i);for(var p=0;p<f;++p){var l,d,y,v,m=n[p].replace(a,"%20"),b=m.indexOf(r);b>=0?(l=m.substr(0,b),d=m.substr(b+1)):(l=m,d=""),y=decodeURIComponent(l),v=decodeURIComponent(d),c=u,s=y,Object.prototype.hasOwnProperty.call(c,s)?e(u[y])?u[y].push(v):u[y]=[u[y],v]:u[y]=v}return u}var a={encode:t,stringify:t,decode:u,parse:u},i=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function s(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}return function(){function e(){i(this,e)}return c(e,null,[{key:"configureDefaults",value:function(e){e.host||(e.host="localhost"),void 0===e.secure&&(e.secure=!0),e.appId||e.route||(e.route="app/engineData"),void 0===e.noData&&(e.noData=!1)}},{key:"buildUrl",value:function(n){e.configureDefaults(n);var t=n.secure,r=n.host,o=n.port,u=n.prefix,i=n.subpath,c=n.route,f=n.identity,p=n.urlParams,l=n.ttl,d=n.appId,y="";return y+=(t?"wss":"ws")+"://",y+=r||"localhost",o&&(y+=":"+o),u&&(y+="/"+s(u)),i&&(y+="/"+s(i)),c?y+="/"+s(c):d&&""!==d&&(y+="/app/"+encodeURIComponent(d)),f&&(y+="/identity/"+encodeURIComponent(f)),l&&(y+="/ttl/"+l),p&&(y+="?"+a.stringify(p)),y}}]),e}()});
//# sourceMappingURL=sense-utilities.min.js.map
